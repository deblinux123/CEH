
---

# گزارش تست نفوذ - ماشین 192.168.52.151

---

## 1. مقدمه

این گزارش مربوط به تست نفوذ روی ماشین با IP 192.168.52.151 است که هدف آن شناسایی آسیب‌پذیری‌ها و بررسی امنیت سرویس‌های فعال می‌باشد. تست در تاریخ 11 ژوئن 2025 انجام شده است.

---

## 2. خلاصه اجرایی

در طی تست نفوذ، پورت‌های 21 (FTP)، 22 (SSH) و 80 (HTTP) باز و فعال شناسایی شدند. با استفاده از آسیب‌پذیری در سرویس FTP موفق به دسترسی root به سرور شدیم. سپس با ایجاد کلید SSH و نصب آن روی سرور، دسترسی بدون رمز عبور به SSH فراهم گردید. این نشان‌دهنده ضعف امنیتی در تنظیمات FTP و SSH سرور است که ریسک جدی برای نفوذگران ایجاد می‌کند.

---

## 3. روش‌ها و ابزارهای استفاده شده

* اسکن پورت‌ها با استفاده از Nmap (دستور: `nmap -sC -sS -sV 192.168.52.151`)
* بهره‌برداری از FTP با Metasploit (دسترسی روت)
* ساخت کلید SSH (کلید عمومی) و نصب آن روی سرور
* اتصال SSH بدون رمز عبور

---

## 4. یافته‌ها

* **پورت‌های باز:**

  * 21/tcp - FTP - ProFTPD 1.3.3c
  * 22/tcp - SSH - OpenSSH 7.2p2
  * 80/tcp - HTTP - Apache 2.4.18

* **آسیب‌پذیری‌ها:**

  * سرویس FTP با تنظیمات ضعیف که اجازه دسترسی root را می‌دهد.
  * نبود مکانیزم احراز هویت قوی در FTP.
  * SSH قابل دسترسی با کلید عمومی که به‌طور پیش‌فرض تنظیم نشده بود (قابلیت پیاده‌سازی دسترسی بدون رمز وجود داشت).

---

## 5. پیشنهادات امنیتی

* محدود کردن دسترسی به سرویس FTP و استفاده از پسوردهای قوی.
* غیرفعال کردن دسترسی مستقیم روت از طریق FTP.
* فعال‌سازی فایروال و بستن پورت‌های غیرضروری.
* استفاده از کلیدهای SSH و غیرفعال کردن ورود با پسورد در صورت امکان.
* به‌روزرسانی سرویس‌ها به نسخه‌های جدید و امن‌تر.
* مانیتورینگ مداوم لاگ‌ها و هشداردهی درباره فعالیت‌های مشکوک.

---

## 6. ضمائم

### خروجی nmap:

```
PORT   STATE SERVICE VERSION
21/tcp open  ftp     ProFTPD 1.3.3c
22/tcp open  ssh     OpenSSH 7.2p2 Ubuntu 4ubuntu2.2 (Ubuntu Linux; protocol 2.0)
80/tcp open  http    Apache httpd 2.4.18 ((Ubuntu))
```

### دستورات اجرا شده برای نصب کلید SSH:

```bash
mkdir -p /root/.ssh
echo "ssh-rsa SSH_KEY" >> /root/.ssh/authorized_keys
chmod 700 /root/.ssh
chmod 600 /root/.ssh/authorized_keys
chown -R root:root /root/.ssh
```

---

